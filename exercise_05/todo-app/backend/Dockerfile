FROM python:3.6.4
MAINTAINER David Mart√≠n <david@aletiasoluciones.com>
# install packages
RUN apt-get update --force-yes -yqq && apt-get install --force-yes -yqq --no-install-recommends netcat mysql-client && apt-get -q clean
# add requirements
COPY ./requirements.txt /tmp/requirements.txt
# install requirements
RUN pip install --upgrade --force-reinstall pip && pip install --upgrade -r /tmp/requirements.txt
COPY ./entrypoint.sh /usr/src/myapp/
COPY manage.py /usr/src/myapp/
COPY project /usr/src/myapp/project
# set working directory
WORKDIR /usr/src/myapp
# expose port 8080
EXPOSE 8080
# run server
ENTRYPOINT /usr/src/myapp/entrypoint.sh
